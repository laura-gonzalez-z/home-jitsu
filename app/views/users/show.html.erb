<div>
  <h1>You're connected to the user show page!</h1>
  <% if @partner.nil? %>
    <%= button_to 'Add Partner', {:controller => "partners", :action => "create", :requester_id => current_user.id, :requestee_id=> @user.id} , {:method=>:post, class: "btn btn-primary"}  %>
  <% elsif @partner.status == "pending" && @partner.requestee_id == current_user.id%>
    <%= button_to "Accept",  {:controller => "partners", :action => "accept", :requestee_id => current_user.id, :requester_id=> @user.id },  {:method=>:patch, class: "text-decoration-none"}   %> | <%= button_to "Reject",  {:controller => "partners", :action => "reject", :requestee_id => current_user.id, :requester_id=> @user.id  },  {:method=>:patch, class: "text-decoration-none"}  %>
  <% elsif @partner.status == "pending" && @partner.requester_id == current_user.id%>
      <%= link_to "Cancel Request", partner_path(@user), data: { turbo_method: :delete, turbo_confirm: "Are you sure?" }, class: "btn btn-secondary" %>
  <% elsif @partner.status == "approved" %>
      <%= link_to "Not my partner anymore.", partner_path(@user), data: { turbo_method: :delete, turbo_confirm: "Are you sure?" }, class: "btn btn-secondary" %>
  <% end %>
  <h3>Meet <%=@user.first_name%></h3>
  <% if @user.gender == "Male" %>
    <% pronoun = "He" %>
    <% himher = "him" %>
  <% else %>
    <% pronoun = "She" %>
    <% himher = "her" %>
    <%  %>
  <% end %>
  <p><%=pronoun%> is <%=@user.height%>cm tall.</p>
  <p><%=pronoun%> weighs <%=@user.weight%>kg.</p>
  <% if @user.belt =! "None" %>
    <p><%=pronoun%> is a <%=@user.belt%> belt with <%=@user.years_of_experience%> years of experience!</p>
  <% else %>
    <p><%=pronoun%> is new to BJJ!</p>
  <% end %>
  <p>Here's a fun fact about <%=himher%>: <%= @user.description %></p>
  <p><%= link_to "See their reviews", user_reviews_path(@user), class: "btn btn-primary" %></p>
  <p><%= link_to "Leave them a review", new_user_review_path(@user), class: "btn btn-primary" %></p>
</div>
